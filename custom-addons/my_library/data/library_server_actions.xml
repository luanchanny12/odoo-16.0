<?xml version="1.0" encoding="utf-8"?>
<odoo>
    <data>

        <!-- Server Action: Kiểm tra quá hạn sách -->
        <record id="action_check_overdue_manual" model="ir.actions.server">
            <field name="name">Kiểm tra Quá hạn (Thủ công)</field>
            <field name="model_id" ref="model_library_borrow"/>
            <field name="binding_model_id" ref="model_library_borrow"/>
            <field name="binding_view_types">list,form</field>
            <field name="state">code</field>
            <field name="groups_id" eval="[(4, ref('group_library_user'))]"/>
            <field name="code">
# Gọi hàm Python để xử lý logic
model.check_overdue_books()

# Trả về action reload để tải lại trang ngay lập tức
action = {
    'type': 'ir.actions.client',
    'tag': 'reload',
}
            </field>
        </record>

    </data>
</odoo>
